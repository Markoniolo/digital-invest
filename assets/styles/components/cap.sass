.cap
  overflow: hidden
  margin-top: -4.641rem
  //margin-top: -74px
  margin-bottom: 120px
  @include media(lg)
    margin-bottom: 90px
  @include media(xs)
    margin-top: -66px
    margin-bottom: 60px

.cap__cont
  position: relative
  z-index: 1
  padding-top: 194px
  @include media(lg)
    padding-top: 117px
  @include media(xs)
    //padding-top: 95px
    padding-top: 23rem
  &::before
    content: ''
    position: absolute
    z-index: -1
    top: 0
    left: 0
    right: 0
    height: 585px
    +bgIcon('cap/cap-bg.svg')
    @include media(lg)
      height: 1290px
      left: -36px
      right: -36px
      +bgIcon('cap/cap-bg_840.svg')
    @include media(xs)
      height: 664px
      left: -40px
      right: -40px
      +bgIcon('cap/cap-bg_456.svg')

.cap__figure
  position: absolute
  z-index: -2
  filter: blur(100px)
  animation: 10s capFigureRotate infinite linear
  @include media(lg)
    filter: blur(80px)
  @include media(xs)
    filter: blur(40px)
  @keyframes capFigureRotate
    0%
      transform: rotate(0)
    100%
      transform: rotate(360deg)

.cap__figure_1
  top: 22px
  left: -25px
  width: 460px
  height: 520px
  +bgIcon('cap/cap-bg-figure-1.svg')
  @include media(lg)
    top: 93px
    left: -48px
    width: 257px
    height: 291px
  @include media(xs)
    width: 144px
    height: 163px
    top: 90px
    left: -57px

.cap__figure_2
  top: -47px
  right: -24px
  width: 763px
  height: 736px
  +bgIcon('cap/cap-bg-figure-2.svg')
  @include media(lg)
    top: 54px
    right: -77px
    width: 427px
    height: 412px
  @include media(xs)
    top: 69px
    right: -34px
    width: 239px
    height: 231px

.cap__top
  display: flex
  justify-content: space-between
  align-items: flex-start
  margin-bottom: 24px
  @include media(lg)
    margin-bottom: 40px
    display: block
  @include media(xs)
    margin-bottom: 20px

.cap__top-inner
  width: 50%
  display: flex
  flex-direction: column
  align-items: flex-start
  @include media(lg)
    max-width: 478px
    width: 100%
  @include media(xs)
    max-width: 69rem

.cap__caption
  margin-top: 36px
  margin-bottom: 24px
  @include media(lg)
    margin-top: 0
    margin-bottom: 16px
  @include media(xs)
    margin-bottom: 12px
    font-size: 9.15rem

.cap__note
  text-align: right
  @include media(lg)
    margin-bottom: 40px
  @include media(xs)
    margin-bottom: 30px
    text-align: left

.cap__top-cards
  display: flex
  align-items: flex-start
  gap: 6px
  @include media(lg)
    align-items: stretch

.cap__top-card
  &:nth-child(2)
    margin-top: 93px
    @include media(lg)
      margin-top: 0
  &:nth-child(3)
    margin-top: 40px
    @include media(lg)
      margin-top: 0
  display: flex
  flex-direction: column
  justify-content: space-between
  width: 13.17rem
  position: relative
  z-index: 1
  padding: 16px
  border-radius: 16px
  box-shadow: 0 4px 20px 0 rgba(191, 218, 228, 0.5)
  @include media(lg)
    padding: 12px
    width: calc(33.33% - 4px)
  @include media(xs)
    padding: 8px
    border-radius: 8px
    box-shadow: 0 2px 10px 0 rgba(191, 218, 228, 0.5)
  &::before
    content: ''
    position: absolute
    top: 12px
    right: 12px
    width: 0.502rem
    height: 0.502rem
    border-radius: 100%
    background-color: #2183a6
    @include media(lg)
      width: 8px
      height: 8px
  &::after
    content: ''
    position: absolute
    z-index: -1
    top: 0
    right: 0
    bottom: 0
    left: 0
    border-radius: 16px
    backdrop-filter: blur(30px)
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0.4) 100%)
    @include media(xs)
      border-radius: 8px
      backdrop-filter: blur(14.6484375px)

.cap__top-card-value
  margin-bottom: 4px
  font-size: 2.26rem
  line-height: 105%
  @include media(lg)
    font-size: 36px
  @include media(xs)
    margin-bottom: 12px
    font-size: 24px

.cap__top-card-note
  font-size: 0.88rem
  line-height: 105%

.cap__carousel

.cap__area
  display: flex
  align-items: flex-end
  gap: 6px
  @include media(lg)
    display: block

.cap__box_light
  background-color: #B9E0ED
  min-height: 16.493rem
  @include media(lg)
    min-height: 263px
  .cap__price
    color: $saturated
    opacity: 0.8

.cap__box_saturated
  background-color: #2183A6
  min-height: 22.513rem
  @include media(lg)
    min-height: 359px
  .cap__price
    color: $pastel
    opacity: 0.8
  .cap__title, .cap__descr
    color: $white

.cap__box_dark
  background-color: $dark
  min-height: 19.754rem
  @include media(lg)
    min-height: 315px
  .cap__price
    color: $pastel
    opacity: 0.8
  .cap__title, .cap__descr
    color: $white

.cap__box
  &:not(:last-of-type)
    @include media(lg)
      margin-bottom: 16px
    @include media(xs)
      margin-bottom: 12px
  position: relative
  z-index: 1
  display: flex
  flex-direction: column
  cursor: pointer
  padding: 24px
  width: calc(33.33% - 4px)
  border-radius: 16px
  overflow: hidden
  @include media(lg)
    min-height: 246px
    width: 100%
  @include media(xs)
    min-height: 236px
    border-radius: 8px
    padding: 12px
  &:hover
    .cap__button::before
      animation: $transition-duration capButton
  canvas
    position: absolute
    z-index: -1
    top: 0
    left: 0
    right: 0
    bottom: 0
    width: 100% !important
    height: 100% !important

.cap__button
  overflow: hidden
  display: flex
  align-items: center
  justify-content: center
  position: absolute
  top: 24px
  right: 24px
  width: 3.14rem
  height: 3.14rem
  border-radius: 50%
  background-color: $white
  @include media(lg)
    width: 50px
    height: 50px
  @include media(xs)
    width: 42px
    height: 42px
    top: 12px
    right: 12px
  &::before
    content: ''
    position: absolute
    width: 1.13rem
    height: 1.13rem
    @include media(lg)
      width: 18px
      height: 18px
    @include media(xs)
      width: 16px
      height: 16px
    +bgIcon('ic_arrow_btn_right_black.svg')
  @keyframes capButton
    0%
      transform: translateX(0)
    50%
      transform: translateX(34px)
    51%
      transform: translateX(-34px)
    100%
      transform: translateX(0)

.cap__title
  margin-bottom: 6px
  max-width: 65%
  font-size: 1.51rem
  line-height: 110%
  @include media(lg)
    font-size: 24px
  @include media(xs)
    margin-bottom: 12px
    font-size: 18px

.cap__price

.cap__descr
  margin-top: auto
  padding-right: 2.635rem
  width: 100%
  opacity: 0.8
  @include media(lg)
    max-width: 450px
    padding-right: 42px
  @include media(xs)
    max-width: 100%
    padding-right: 0
